document.addEventListener("alpine:init", () => { Alpine.data("grapesjs", ({ state: e, statePath: l, readOnly: r, tools: a, minHeight: n, container: t }) => ({ instance: null, state: e, tools: a, init() { let o = {}; this.instance = grapesjs.init({ height: n + "px", container: t || ".filament-grapesjs .grapesjs-wrapper", showOffsets: !0, fromElement: !0, noticeOnUnload: !1, storageManager: !1, loadHtml: e, plugins: ["grapesjs-tailwind", "grapesjs-preset-newsletter"] }), this.instance.on("update", p => { var i = this.instance.getHtml({ cleanId: !0 }), s = i.match(/<body\b[^>]*>([\s\S]*?)<\/body>/); s ? this.state = s[1] : this.state = this.instance.getHtml() }) } })) });
